#!perl
use v5.24.0;
use warnings;

use lib 'lib';

use IO::Async::Loop;
use IO::Async::Timer::Periodic;
use Synergy::Event;
use Synergy::EventHandler;
use Synergy::EventSource::TrivialTest;
use Synergy::ReplyChannel::Test;
use Synergy::ReplyChannel::Stdout;

my $eh   = Synergy::EventHandler->new;
my $loop = IO::Async::Loop->new;

Synergy::EventSource::TrivialTest->new({
  loop => $loop,
  eventhandler => $eh,
  rch => Synergy::ReplyChannel::Stdout->new,
});

$loop->run;
